<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>undefined</title>
  <meta name="generator" content="Google Web Designer 16.1.0.0530">
  <meta name="template" content="Expandable 3.0.0">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="gwdpage_style.css" rel="stylesheet" data-version="13" data-exports-type="gwd-page">
  <link href="gwdpagedeck_style.css" rel="stylesheet" data-version="14" data-exports-type="gwd-pagedeck">
  <link href="gwdimage_style.css" rel="stylesheet" data-version="17" data-exports-type="gwd-image">
  <style id="gwd-lightbox-style">
    .gwd-lightbox {
      overflow: hidden;
    }
  </style>
  <style id="gwd-text-style">
    p {
      margin: 0px;
    }
    h1 {
      margin: 0px;
    }
    h2 {
      margin: 0px;
    }
    h3 {
      margin: 0px;
    }
  </style>
  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0px;
    }
    .gwd-page-container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    .gwd-page-content {
      background-color: transparent;
      transform: perspective(1400px) matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
      transform-style: preserve-3d;
      position: absolute;
    }
    .gwd-page-content * {
      transform-style: preserve-3d;
    }
    .gwd-page-wrapper {
      background-color: rgb(255, 255, 255);
      position: absolute;
      transform: translateZ(0px);
    }
    .page1-content {
      width: 550px;
      height: 400px;
    }
    .gwd-image-1bsr {
      position: absolute;
      left: 0%;
      top: 0%;
      width: 100%;
      height: 100%;
    }
    .gwd-div-1do4 {
      width: 100%;
      height: 100%;
    }
    .gwd-page-1qkq {
      width: 100%;
      height: 100%;
    }
    .gwd-rect-siz5 {
      position: absolute;
      box-sizing: border-box;
      border-width: 1px;
      border-style: solid;
      border-color: rgb(0, 0, 0);
      height: 68%;
      width: 38.55%;
      visibility: hidden;
      left: 58.73%;
      top: 18.89%;
    }
    .gwd-label-j9z0 {
      position: absolute;
      text-align: center;
      left: 70.36%;
      top: 24%;
      width: 18.18%;
      height: 5%;
    }
    .gwd-label-1xpc {
      position: absolute;
      height: 5%;
      letter-spacing: normal;
      font-weight: bold;
      width: 13%;
      line-height: 16px;
      left: 65.09%;
      top: 34.75%;
    }
    .gwd-input-np4r {
      position: absolute;
      height: 5%;
      width: 18.18%;
      left: 70.36%;
      top: 33.5%;
      border-radius: 5px;
    }
    .gwd-label-9fnx {
      position: absolute;
      font-weight: bold;
      line-height: 16px;
      left: 65%;
      top: 43.5%;
      width: 18.18%;
      height: 5%;
    }
    .gwd-input-1jcb {
      position: absolute;
      left: 70.36%;
      top: 42.25%;
      width: 18.18%;
      height: 5%;
      border-radius: 5px;
    }
    .gwd-button-r8fn {
      position: absolute;
      border-width: 1.6px;
      top: 50%;
      height: 6%;
      width: 13%;
      left: 72.91%;
      border-radius: 7px;
    }
    .gwd-table-1ivz {
      background-image: none;
      background-color: transparent;
    }
    .gwd-table-1xyu {
      height: 135.62px;
      top: 50%;
      left: 0px;
      transform: translate(0%, -50%) translate3d(223px, 125px, 0px);
    }
    .gwd-table-1p4y {
      position: absolute;
      width: 274px;
      height: 284px;
      left: 172px;
      top: 41px;
    }
    .gwd-table-1xwa {
      left: 64px;
      top: 97px;
    }
    .gwd-tbody-cdmn {
      left: -24px;
      top: 119px;
    }
    .gwd-thead-dzo4 {
      left: -141px;
      top: 39px;
    }
    .gwd-table-hjh4 {
      top: 0%;
      height: 40%;
      left: 83%;
      width: 65.12%;
    }
    .gwd-div-14po {
      position: static;
      left: auto;
      top: auto;
      order: 0;
      min-width: 0px;
    }
    .gwd-table-1ybo {
      width: 25.26%;
      height: 17.84%;
      position: relative;
      left: 55.37%;
      top: 37.47%;
    }
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0px;
    }
    .container {
      position: relative;
      width: 80%;
      height: auto;
    }
    table {
      width: 100%;
      height: auto;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid rgb(221, 221, 221);
      text-align: center;
      padding: 10px;
    }
    th {
      background-color: rgb(242, 242, 242);
    }
    .pagination {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }
    button {
      margin: 0px 10px;
      padding: 5px 10px;
      cursor: pointer;
    }
    .gwd-label-dqy6 {
      position: absolute;
      left: 78.09%;
      top: 0%;
      width: 30%;
      height: 10%;
      text-align: center;
      font-size: 50px;
      transform: translate(-50%, 0%) translate3d(-1px, 36px, 0px);
    }
    @media (width: 550px) and (height: 400px) {}
  </style>
  <script data-source="gwd_webcomponents_v1_min.js" data-version="2" data-exports-type="gwd_webcomponents_v1" src="gwd_webcomponents_v1_min.js"></script>
  <script data-source="gwdpage_min.js" data-version="13" data-exports-type="gwd-page" src="gwdpage_min.js"></script>
  <script data-source="gwdpagedeck_min.js" data-version="14" data-exports-type="gwd-pagedeck" src="gwdpagedeck_min.js"></script>
  <script data-source="gwdimage_min.js" data-version="17" data-exports-type="gwd-image" src="gwdimage_min.js"></script>
  <script type="text/javascript" gwd-events="support" src="gwd-events-support.1.0.js"></script>
  <script type="text/javascript" gwd-events="handlers">
    window.gwd = window.gwd || {};
    gwd.Login = function(event) {
      var username = document.getElementById('txtTK').value;
      var password = document.getElementById('txtMK').value;
      fetch('/api/getDomain').then(response => response.json()).then(data => {
        console.log("Received domain from /api/getDomain:", data.domain); // Ghi lại domain trả về
        const apiUrl = data.domain ? `${data.domain.replace(/\/$/, '')}/api/login` // Xóa ký tự '/' nếu có ở cuối
          : 'http://localhost:3000/api/login';
        console.log("API URL being used:", apiUrl); // Ghi lại URL API đang dùng
        fetch(apiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            username, password
          }),
        }).then(response => {
          console.log("Response status:", response.status); // Ghi lại trạng thái response
          return response.json();
        }).then(data => {
          console.log("Response data:", data); // Ghi lại dữ liệu response
          if (data.success) {
            alert('Login successful!');
            document.getElementById('txtTK').value = '';
            document.getElementById('txtMK').value = '';
            window.location.href = 'Home/Home.html';
          } else {
            alert('Invalid login');
          }
        }).catch(error => {
          console.error('Error during login request:', error);
        });
      }).catch(error => {
        console.error('Error fetching domain:', error);
      });
    };
    gwd.products = function(event) {
      // Lưu lại trạng thái hiện tại là page1_1
      localStorage.setItem('returnToPage', 'page1_1');
      // Chuyển đến trang products
      window.location.href = 'products.html';
    };
    gwd.Invoices = function(event) {
      // Lưu lại trạng thái hiện tại là page1_1
      localStorage.setItem('returnToPage', 'page1_1');
      // Chuyển đến trang hóa đơn
      window.location.href = 'invoices.html';
    };
  </script>
  <script type="text/javascript" gwd-events="registration">
    // Support code for event handling in Google Web Designer
    // This script block is auto-generated. Please do not edit!
    gwd.actions.events.registerEventHandlers = function(event) {
      gwd.actions.events.addHandler('btDN', 'click', gwd.Login, false);
    };
    gwd.actions.events.deregisterEventHandlers = function(event) {
      gwd.actions.events.removeHandler('btDN', 'click', gwd.Login, false);
    };
    document.addEventListener("DOMContentLoaded", gwd.actions.events.registerEventHandlers);
    document.addEventListener("unload", gwd.actions.events.deregisterEventHandlers);
  </script>
</head>

<body class="document-body">
  <script gwd-served-sizes="" type="application/json">["550x400"]</script>
  <gwd-pagedeck class="gwd-page-container" id="pagedeck" default-page="page1">
    <gwd-page id="page1" class="gwd-page-wrapper page1-content gwd-lightbox gwd-page-1qkq" data-gwd-width="100%" data-gwd-height="100%">
      <div class="gwd-page-content page1-content gwd-div-1do4">
        <gwd-image class="gwd-image-1bsr" id="LoginBg" source="assets/Loginbg.png"></gwd-image>
        <svg data-gwd-shape="rectangle" class="gwd-rect-siz5"></svg>
        <h3 id="label_1" class="gwd-label-j9z0">ĐĂNG NHẬP</h3>
        <p id="label_2" class="gwd-label-1xpc">Tài khoản</p>
        <input type="text" id="txtTK" class="gwd-input-np4r">
        <p id="label_3" class="gwd-label-9fnx">Mật khẩu</p>
        <input type="password" id="txtMK" class="gwd-input-1jcb">
        <button id="btDN" class="gwd-button-r8fn">Đăng nhập</button>
        <h1 id="label_7" class="gwd-label-dqy6">Hệ thống quản lý </h1></div>
    </gwd-page>
  </gwd-pagedeck>
  <script type="text/javascript" id="gwd-init-code">
    (function() {
      document.body.style.opacity = "0";
      var pageDeck = document.getElementById('pagedeck');
      /**
       * Handles the DOMContentLoaded event. The DOMContentLoaded event is
       * fired when the document has been completely loaded and parsed.
       */

      function handleDomContentLoaded(event) {}

      /**
       * Handles the WebComponentsReady event. This event is fired when all
       * custom elements have been registered and upgraded.
       */
      function handleWebComponentsReady(event) {
        document.body.style.opacity = "";
        requestAnimationFrame(function() {
          setTimeout(function() {
            pageDeck.goToPage(pageDeck.getDefaultPage().id);
          }, 1);
        });
      }

      window.addEventListener('DOMContentLoaded',
        handleDomContentLoaded, false);
      window.addEventListener('WebComponentsReady',
        handleWebComponentsReady, false);
    })();

    const rowsPerPage = 5; // Số hàng trên mỗi trang
    const rows = document.querySelectorAll('#productTable tbody tr');
    const totalPages = Math.ceil(rows.length / rowsPerPage);
    let currentPage = 1;

    function showPage(page) {
      const start = (page - 1) * rowsPerPage;
      const end = start + rowsPerPage;

      rows.forEach((row, index) => {
        if (index >= start && index < end) {
          row.style.display = '';
        } else {
          row.style.display = 'none';
        }
      });
    }
    // Hiển thị trang đầu tiên khi tải trang
    showPage(currentPage);
  </script>
</body>

</html>